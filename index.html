<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rasca y Gana</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 500px; margin: auto; }
    input { padding: 8px; width: 100%; margin-bottom: 10px; }
    button { padding: 10px; margin-top: 5px; width: 100%; }
    .prize { margin-top: 15px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Rasca y Gana</h1>
  <input type="text" id="codeInput" placeholder="Introduce tu código" />
  <button onclick="addCode()">Añadir participación</button>
  <p>Participaciones: <span id="points">0</span></p>
  <button onclick="scratch()">Rasca aquí</button>
  <div class="prize" id="lastPrize"></div>

  <script>
    const validCodes = new Set([
      "PROMO-8D2F, PROMO-3A1B, PROMO-9F4C, PROMO-7B0E, PROMO-C3D5, PROMO-FA6E, PROMO-12A7, PROMO-4E8C, PROMO-BD9F, PROMO-0C2A,
PROMO-8F2D, PROMO-6A3E, PROMO-9C7B, PROMO-3D1F, PROMO-7E0A, PROMO-2C4D, PROMO-FA9B, PROMO-1B8E, PROMO-4F7C, PROMO-AD3E,
PROMO-8A1D, PROMO-6B9C, PROMO-2D4E, PROMO-0F3A, PROMO-BC8E, PROMO-1A9D, PROMO-3C7F, PROMO-7D2B, PROMO-4E0C, PROMO-FA1B,
PROMO-9D8E, PROMO-2B3C, PROMO-6F1A, PROMO-0C9D, PROMO-3A7E, PROMO-8B2F, PROMO-1F0C, PROMO-4D3B, PROMO-FA8E, PROMO-9A7C,
PROMO-2C1F, PROMO-6D9B, PROMO-0F8E, PROMO-3B2C, PROMO-7C1A, PROMO-1D9E, PROMO-4A3F, PROMO-BF0C, PROMO-9B8D, PROMO-2A7C,
PROMO-6C1F, PROMO-0D9E, PROMO-3F8A, PROMO-7A2B, PROMO-1C0D, PROMO-4B3E, PROMO-BC9F, PROMO-9C8A, PROMO-2D7B, PROMO-6A1C,
PROMO-0E9F, PROMO-3C2A, PROMO-7B1D, PROMO-1E0C, PROMO-4C3F, PROMO-FA9D, PROMO-9E8B, PROMO-2B7C, PROMO-6F1D, PROMO-0A9E,
PROMO-3D2B, PROMO-7F0C, PROMO-1B9A, PROMO-4D3F, PROMO-BE0D, PROMO-9F8C, PROMO-2C7A, PROMO-6B1E, PROMO-0B9F, PROMO-3E2C,
PROMO-7C0D, PROMO-1F9B, PROMO-4E3A, PROMO-FA0C, PROMO-9A8F, PROMO-2D7C, PROMO-6C1B, PROMO-0D8E, PROMO-3F2A, PROMO-7A0C,
PROMO-1C9D, PROMO-4F3B, PROMO-BD0E, PROMO-9C8F, PROMO-2A7D, PROMO-6D1C, PROMO-0E8B, PROMO-3B2F, PROMO-7D0A, PROMO-1D9C,
PROMO-4C3E, PROMO-FA0D, PROMO-9E8A, PROMO-2B7D, PROMO-6F1C, PROMO-0A8E, PROMO-3D2F, PROMO-7F0B, PROMO-1B9C, PROMO-4D3E,
PROMO-BE0F, PROMO-9F8A, PROMO-2C7D, PROMO-6B1C, PROMO-0B8F, PROMO-3E2B, PROMO-7C0A, PROMO-1F9D, PROMO-4E3C, PROMO-FA0E,
PROMO-9A8B, PROMO-2D7E, PROMO-6C1D, PROMO-0D8A, PROMO-3F2C, PROMO-7A0B, PROMO-1C9E, PROMO-4F3D, PROMO-BD0F, PROMO-9C8A,
PROMO-2A7E, PROMO-6D1D, PROMO-0E8C, PROMO-3B2A, PROMO-7D0B, PROMO-1D9F, PROMO-4C3A, PROMO-FA1C, PROMO-9E8D, PROMO-2B7E,
PROMO-6F1B, PROMO-0A8F, PROMO-3D2A, PROMO-7F0D, PROMO-1B9E, PROMO-4D3A, PROMO-BE1C, PROMO-9F8D, PROMO-2C7E, PROMO-6B1D,
PROMO-0B8A, PROMO-3E2D, PROMO-7C0F, PROMO-1F9A, PROMO-4E3D, PROMO-FA1D, PROMO-9A8C, PROMO-2D7F, PROMO-6C1E, PROMO-0D8B,
PROMO-3F2D, PROMO-7A0D, PROMO-1C9F, PROMO-4F3E, PROMO-BD1C, PROMO-9C8D, PROMO-2A7F, PROMO-6D1E, PROMO-0E8D, PROMO-3B2C,
PROMO-7D0C, PROMO-1D9A, PROMO-4C3D, PROMO-FA1E, PROMO-9E8C, PROMO-2B7F, PROMO-6F1E, PROMO-0A8A, PROMO-3D2C, PROMO-7F0E,
PROMO-1B9F, PROMO-4D3B, PROMO-BE1D, PROMO-9F8B, PROMO-2C7F, PROMO-6B1E, PROMO-0B8C, PROMO-3E2E, PROMO-7C0E, PROMO-1F9C,
PROMO-4E3E, PROMO-FA1F, PROMO-9A8D, PROMO-2D7A, PROMO-6C1F, PROMO-0D8C, PROMO-3F2E, PROMO-7A0E, PROMO-1C9A, PROMO-4F3F,
PROMO-BD1D, PROMO-9C8E, PROMO-2A7A, PROMO-6D1F, PROMO-0E8E, PROMO-3B2E, PROMO-7D0D, PROMO-1D9B, PROMO-4C3F, PROMO-FA2A"
    ]);

    let points = 0;
    let prizes = {
      "Combo XXL": 1,
      "Combo XL": 2,
      "Combo medio": 4,
      "Combo mini": 6,
      "Monchi": 15,
      "Clipper": 15,
      "Patatas": 15,
      "Sin premio": 44
    };

    function addCode() {
      const code = document.getElementById('codeInput').value.trim();
      if (validCodes.has(code)) {
        points++;
        validCodes.delete(code);
        document.getElementById('points').textContent = points;
      } else {
        alert("Código inválido o ya usado");
      }
      document.getElementById('codeInput').value = '';
    }

    function scratch() {
      if (points <= 0) {
        alert("No tienes participaciones");
        return;
      }

      let prizeList = [];
      for (let [name, qty] of Object.entries(prizes)) {
        for (let i = 0; i < qty; i++) {
          prizeList.push(name);
        }
      }

      if (prizeList.length === 0) {
        alert("Ya no quedan premios");
        return;
      }

      const randomPrize = prizeList[Math.floor(Math.random() * prizeList.length)];
      prizes[randomPrize]--;
      points--;
      document.getElementById('points').textContent = points;
      document.getElementById('lastPrize').textContent = `¡Te ha tocado: ${randomPrize}!`;
    }
  </script>
</body>
</html>
